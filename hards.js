const hardRareTableItems = {
  rng: 96
  , output: [
    {item: `Rune full helm (t)`, min: 1, max: 1, roll: 0, rare: true, blmReset: true}
    , {item: `Rune platebody (t)`, min: 1, max: 1, roll: 1, rare: true, blmReset: true}
    , {item: `Rune platelegs (t)`, min: 1, max: 1, roll: 2, rare: true, blmReset: true}
    , {item: `Rune kiteshield (t)`, min: 1, max: 1, roll: 3, rare: true, blmReset: true}
    , {item: `Rune plateskirt (t)`, min: 1, max: 1, roll: 4, rare: true, blmReset: true}
    , {item: `Rune full helm (g)`, min: 1, max: 1, roll: 5, rare: true, blmReset: true}
    , {item: `Rune platebody (g)`, min: 1, max: 1, roll: 6, rare: true, blmReset: true}
    , {item: `Rune platelegs (g)`, min: 1, max: 1, roll: 7, rare: true, blmReset: true}
    , {item: `Rune kiteshield (g)`, min: 1, max: 1, roll: 8, rare: true, blmReset: true}
    , {item: `Rune plateskirt (g)`, min: 1, max: 1, roll: 9, rare: true, blmReset: true}
    , {item: `Rune full helm (Saradomin)`, min: 1, max: 1, roll: 10, rare: true, blmReset: true}
    , {item: `Rune platebody (Saradomin)`, min: 1, max: 1, roll: 11, rare: true, blmReset: true}
    , {item: `Rune platelegs (Saradomin)`, min: 1, max: 1, roll: 12, rare: true, blmReset: true}
    , {item: `Rune kiteshield (Saradomin)`, min: 1, max: 1, roll: 13, rare: true, blmReset: true}
    , {item: `Rune plateskirt (Saradomin)`, min: 1, max: 1, roll: 14, rare: true, blmReset: true}
    , {item: `Rune full helm (Guthix)`, min: 1, max: 1, roll: 15, rare: true, blmReset: true}
    , {item: `Rune platebody (Guthix)`, min: 1, max: 1, roll: 16, rare: true, blmReset: true}
    , {item: `Rune platelegs (Guthix)`, min: 1, max: 1, roll: 17, rare: true, blmReset: true}
    , {item: `Rune kiteshield (Guthix)`, min: 1, max: 1, roll: 18, rare: true, blmReset: true}
    , {item: `Rune plateskirt (Guthix)`, min: 1, max: 1, roll: 19, rare: true, blmReset: true}
    , {item: `Rune full helm (Zamorak)`, min: 1, max: 1, roll: 20, rare: true, blmReset: true}
    , {item: `Rune platebody (Zamorak)`, min: 1, max: 1, roll: 21, rare: true, blmReset: true}
    , {item: `Rune platelegs (Zamorak)`, min: 1, max: 1, roll: 22, rare: true, blmReset: true}
    , {item: `Rune kiteshield (Zamorak)`, min: 1, max: 1, roll: 23, rare: true, blmReset: true}
    , {item: `Rune plateskirt (Zamorak)`, min: 1, max: 1, roll: 24, rare: true, blmReset: true}
    , {item: `Blue dragonhide body (t)`, min: 1, max: 1, roll: 25, rare: true, blmReset: true}
    , {item: `Blue dragonhide chaps (t)`, min: 1, max: 1, roll: 26, rare: true, blmReset: true}
    , {item: `Blue dragonhide body (g)`, min: 1, max: 1, roll: 27, rare: true, blmReset: true}
    , {item: `Blue dragonhide chaps (g)`, min: 1, max: 1, roll: 28, rare: true, blmReset: true}
    , {item: `Pirate's hat`, min: 1, max: 1, roll: 29, rare: true, blmReset: true}
    , {item: `Robin Hood hat`, min: 1, max: 1, roll: 30, rare: true, blmReset: true}
    , {item: `Enchanted hat`, min: 1, max: 1, roll: 31, rare: true, blmReset: true}
    , {item: `Enchanted top`, min: 1, max: 1, roll: 32, rare: true, blmReset: true}
    , {item: `Enchanted robe`, min: 1, max: 1, roll: 33, rare: true, blmReset: true}
    , {item: `Tan cavalier`, min: 1, max: 1, roll: 34, rare: true, blmReset: true}
    , {item: `Black cavalier`, min: 1, max: 1, roll: 35, rare: true, blmReset: true}
    , {item: `Dark cavalier`, min: 1, max: 1, roll: 36, rare: true, blmReset: true}
    , {item: `Rune helm (h1)`, min: 1, max: 1, roll: 37, rare: true, blmReset: true}
    , {item: `Rune platebody (h1)`, min: 1, max: 1, roll: 38, rare: true, blmReset: true}
    , {item: `Rune platelegs (h1)`, min: 1, max: 1, roll: 39, rare: true, blmReset: true}
    , {item: `Rune shield (h1)`, min: 1, max: 1, roll: 40, rare: true, blmReset: true}
    , {item: `Rune plateskirt (h1)`, min: 1, max: 1, roll: 41, rare: true, blmReset: true}
    , {item: `Rune helm (h2)`, min: 1, max: 1, roll: 42, rare: true, blmReset: true}
    , {item: `Rune platebody (h2)`, min: 1, max: 1, roll: 43, rare: true, blmReset: true}
    , {item: `Rune platelegs (h2)`, min: 1, max: 1, roll: 44, rare: true, blmReset: true}
    , {item: `Rune shield (h2)`, min: 1, max: 1, roll: 45, rare: true, blmReset: true}
    , {item: `Rune plateskirt (h2)`, min: 1, max: 1, roll: 46, rare: true, blmReset: true}
    , {item: `Rune helm (h3)`, min: 1, max: 1, roll: 47, rare: true, blmReset: true}
    , {item: `Rune platebody (h3)`, min: 1, max: 1, roll: 48, rare: true, blmReset: true}
    , {item: `Rune platelegs (h3)`, min: 1, max: 1, roll: 49, rare: true, blmReset: true}
    , {item: `Rune shield (h3)`, min: 1, max: 1, roll: 50, rare: true, blmReset: true}
    , {item: `Rune plateskirt (h3)`, min: 1, max: 1, roll: 51, rare: true, blmReset: true}
    , {item: `Rune helm (h4)`, min: 1, max: 1, roll: 52, rare: true, blmReset: true}
    , {item: `Rune platebody (h4)`, min: 1, max: 1, roll: 53, rare: true, blmReset: true}
    , {item: `Rune platelegs (h4)`, min: 1, max: 1, roll: 54, rare: true, blmReset: true}
    , {item: `Rune shield (h4)`, min: 1, max: 1, roll: 55, rare: true, blmReset: true}
    , {item: `Rune plateskirt (h4)`, min: 1, max: 1, roll: 56, rare: true, blmReset: true}
    , {item: `Rune helm (h5)`, min: 1, max: 1, roll: 57, rare: true, blmReset: true}
    , {item: `Rune platebody (h5)`, min: 1, max: 1, roll: 58, rare: true, blmReset: true}
    , {item: `Rune platelegs (h5)`, min: 1, max: 1, roll: 59, rare: true, blmReset: true}
    , {item: `Rune shield (h5)`, min: 1, max: 1, roll: 60, rare: true, blmReset: true}
    , {item: `Rune plateskirt (h5)`, min: 1, max: 1, roll: 61, rare: true, blmReset: true}
    , {item: `Amulet of fury (t)`, min: 1, max: 1, roll: 62, rare: false, blmReset: true}
    , {item: `Amulet of glory (t)`, min: 1, max: 1, roll: 63, rare: true, blmReset: true}
    , {item: `Saradomin crozier`, min: 1, max: 1, roll: 64, rare: true, blmReset: true}
    , {item: `Saradomin stole`, min: 1, max: 1, roll: 65, rare: true, blmReset: true}
    , {item: `Guthix crozier`, min: 1, max: 1, roll: 66, rare: true, blmReset: true}
    , {item: `Guthix stole`, min: 1, max: 1, roll: 67, rare: true, blmReset: true}
    , {item: `Zamorak crozier`, min: 1, max: 1, roll: 68, rare: true, blmReset: true}
    , {item: `Zamorak stole`, min: 1, max: 1, roll: 69, rare: true, blmReset: true}
    , {item: `Armadyl mitre`, min: 1, max: 1, roll: 70, rare: true, blmReset: true}
    , {item: `Armadyl cloak`, min: 1, max: 1, roll: 71, rare: true, blmReset: true}
    , {item: `Bandos mitre`, min: 1, max: 1, roll: 72, rare: true, blmReset: true}
    , {item: `Bandos cloak`, min: 1, max: 1, roll: 73, rare: true, blmReset: true}
    , {item: `Ancient mitre`, min: 1, max: 1, roll: 74, rare: true, blmReset: true}
    , {item: `Ancient cloak`, min: 1, max: 1, roll: 75, rare: true, blmReset: true}
    , {item: `Blessed dragonhide coif (Saradomin)`, min: 1, max: 1, roll: 76, rare: true, blmReset: true}
    , {item: `Blessed dragonhide body (Saradomin)`, min: 1, max: 1, roll: 77, rare: true, blmReset: true}
    , {item: `Blessed dragonhide chaps (Saradomin)`, min: 1, max: 1, roll: 78, rare: true, blmReset: true}
    , {item: `Blessed dragonhide vambraces (Saradomin)`, min: 1, max: 1, roll: 79, rare: true, blmReset: true}
    , {item: `Blessed dragonhide coif (Guthix)`, min: 1, max: 1, roll: 80, rare: true, blmReset: true}
    , {item: `Blessed dragonhide body (Guthix)`, min: 1, max: 1, roll: 81, rare: true, blmReset: true}
    , {item: `Blessed dragonhide chaps (Guthix)`, min: 1, max: 1, roll: 82, rare: true, blmReset: true}
    , {item: `Blessed dragonhide vambraces (Guthix)`, min: 1, max: 1, roll: 83, rare: true, blmReset: true}
    , {item: `Blessed dragonhide coif (Zamorak)`, min: 1, max: 1, roll: 84, rare: true, blmReset: true}
    , {item: `Blessed dragonhide body (Zamorak)`, min: 1, max: 1, roll: 85, rare: true, blmReset: true}
    , {item: `Blessed dragonhide chaps (Zamorak)`, min: 1, max: 1, roll: 86, rare: true, blmReset: true}
    , {item: `Blessed dragonhide vambraces (Zamorak)`, min: 1, max: 1, roll: 87, rare: true, blmReset: true}
    , {item: `Top hat`, min: 1, max: 1, roll: 88, rare: true, blmReset: true}
    , {item: `Rune cane`, min: 1, max: 1, roll: 89, rare: true, blmReset: true}
    , {
      rng: 3
      , roll: 90
      , output: [
        {item: `Fox mask`, min: 1, max: 1, roll: 0, rare: true, blmReset: true}
        , {item: `White unicorn mask`, min: 1, max: 1, roll: 1, rare: true, blmReset: true}
        , {item: `Black unicorn mask`, min: 1, max: 1, roll: 2, rare: true, blmReset: true}
      ]
    }, {
      rng: 3
      , roll: 91
      , output: [
        {item: `Green dragon mask`, min: 1, max: 1, roll: 0, rare: true, blmReset: true}
        , {item: `Blue dragon mask`, min: 1, max: 1, roll: 1, rare: true, blmReset: true}
        , {item: `Red dragon mask`, min: 1, max: 1, roll: 2, rare: true, blmReset: true}
      ]
    }, {
      rng: 30
      , roll: 92
      , output:[
        {item: `Sack of effigies`, min: 1, max: 1, roll: 0, rare: false, blmReset: true}
        , {
          rng: 120
          , roll: 29
          , output: [
            {item: `Explosive barrel`, min: 1, max: 1, roll: 0, rare: false, blmReset: true}
            , {item: `Coins`, min: 25000, max: 25000, roll: 119, rare: false, blmReset: false}
          ]
        }
      ]
    }, {
      rng: 15
      , roll: 93
      , output: [
        {item: `Backstab cape`, min: 1, max: 1, roll: 0, rare: false, blmReset: true}
        , {item: `Coins`, min: 10000, max: 10000, roll: 14, rare: false, blmReset: false}
      ]
    }, {
      rng: 10
      , roll: 94
      , output: [
        {item: `Shadow dye`, min: 1, max: 1, roll: 0, rare: false, blmReset: true}
        , {
          rng: 5
          , roll: 9
          , output: [
            {item: 'Barrows dye', min: 1, max: 1, roll: 0, rare: false, blmReset: true}
            , {item: 'Coins', min: 20000, max: 20000, roll: 4, rare: false, blmReset: false}
          ]
        }
      ]
    }, {
      rng: 11
      , roll: 95
      , output: [
        {item: `Rune full helm (Gilded)`, min: 1, max: 1, roll: 0, rare: true, blmReset: true}
        , {item: `Rune platebody (Gilded)`, min: 1, max: 1, roll: 1, rare: true, blmReset: true}
        , {item: `Rune kiteshield (Gilded)`, min: 1, max: 1, roll: 2, rare: true, blmReset: true}
        , {item: `Rune platelegs (Gilded)`, min: 1, max: 1, roll: 3, rare: true, blmReset: true}
        , {item: `Rune plateskirt (Gilded)`, min: 1, max: 1, roll: 4, rare: true, blmReset: true}
        , {item: `Super set`, min: 5, max: 5, roll: 5, rare: false, blmReset: false}
        , {item: `Super energy (4)`, min: 15, max: 15, roll: 6, rare: false, blmReset: false}
        , {item: `Super restore (4)`, min: 15, max: 15, roll: 7, rare: false, blmReset: false}
        , {item: `Antifire (4)`, min: 15, max: 15, roll: 8, rare: false, blmReset: false}
        , {item: `Starved ancient effigy`, min: 1, max: 1, roll: 9, rare: false, blmReset: false}
        , {
          rng: 12
          , roll: 10
          , output: [
            {item: `Third age full helmet`, min: 1, max: 1, roll: 0, rare: true, blmReset: true}
            , {item: `Third age platebody`, min: 1, max: 1, roll: 1, rare: true, blmReset: true}
            , {item: `Third age platelegs`, min: 1, max: 1, roll: 2, rare: true, blmReset: true}
            , {item: `Third age kiteshield`, min: 1, max: 1, roll: 3, rare: true, blmReset: true}
            , {item: `Third age mage hat`, min: 1, max: 1, roll: 4, rare: true, blmReset: true}
            , {item: `Third age robe top`, min: 1, max: 1, roll: 5, rare: true, blmReset: true}
            , {item: `Third age robe`, min: 1, max: 1, roll: 6, rare: true, blmReset: true}
            , {item: `Third age amulet`, min: 1, max: 1, roll: 7, rare: true, blmReset: true}
            , {item: `Third age ranger coif`, min: 1, max: 1, roll: 8, rare: true, blmReset: true}
            , {item: `Third age ranger body`, min: 1, max: 1, roll: 9, rare: true, blmReset: true}
            , {item: `Third age ranger chaps`, min: 1, max: 1, roll: 10, rare: true, blmReset: true}
            , {item: `Third age vambraces`, min: 1, max: 1, roll: 11, rare: true, blmReset: true}
          ]
        }
      ]
    }
  ]
};

const hardCommonTable = {rng: 40, output: [
  {item: `Medium spiky rune salvage`, min: 1, max: 1, roll: 1, rare: false, blmReset: false}
  , {item: `Medium bladed rune salvage`, min: 1, max: 1, roll: 3, rare: false, blmReset: false}
  , {item: `Large bladed rune salvage`, min: 1, max: 1, roll: 5, rare: false, blmReset: false}
  , {item: `Medium plated rune salvage`, min: 1, max: 1, roll: 7, rare: false, blmReset: false}
  , {item: `Large plated rune salvage`, min: 1, max: 1, roll: 11, rare: false, blmReset: false}
  , {item: `Huge plated rune salvage`, min: 1, max: 1, roll: 13, rare: false, blmReset: false}
  , {item: `Coins`, min: 20000, max: 20000, roll: 15, rare: false, blmReset: false}
  , {item: `Black dragonhide`, min: 5, max: 5, roll: 17, rare: false, blmReset: false}
  , {item: `Mystic air staff`, min: 1, max: 1, roll: 19, rare: false, blmReset: false}
  , {item: `Mystic fire staff`, min: 1, max: 1, roll: 21, rare: false, blmReset: false}
  , {item: `Mystic earth staff`, min: 1, max: 1, roll: 23, rare: false, blmReset: false}
  , {item: `Mystic water staff`, min: 1, max: 1, roll: 25, rare: false, blmReset: false}
  , {item: `Rune arrow`, min: 150, max: 150, roll: 27, rare: false, blmReset: false}
  , {item: `Law rune`, min: 75, max: 75, roll: 29, rare: false, blmReset: false}
  , {item: `Nature rune`, min: 75, max: 75, roll: 31, rare: false, blmReset: false}
  , {item: `Astral rune`, min: 75, max: 75, roll: 33, rare: false, blmReset: false}
  , {item: `Blood rune`, min: 75, max: 75, roll: 35, rare: false, blmReset: false}
  , {item: `Mahogany plank`, min: 24, max: 24, roll: 37, rare: false, blmReset: false}
  , {item: `Yew composite bow`, min: 1, max: 1, roll: 38, rare: false, blmReset: false}
  , {item: `Magic composite bow`, min: 1, max: 1, roll: 39, rare: false, blmReset: false}
]};

const hardSharedTable = {
  rng: 456
  , output: [
    {item: `Saradomin page 1`, min: 1, max: 3, roll: 0, rare: false, blmReset: false}
    , {item: `Saradomin page 2`, min: 1, max: 3, roll: 1, rare: false, blmReset: false}
    , {item: `Saradomin page 3`, min: 1, max: 3, roll: 2, rare: false, blmReset: false}
    , {item: `Saradomin page 4`, min: 1, max: 3, roll: 3, rare: false, blmReset: false}
    , {item: `Zamorak page 1`, min: 1, max: 3, roll: 4, rare: false, blmReset: false}
    , {item: `Zamorak page 2`, min: 1, max: 3, roll: 5, rare: false, blmReset: false}
    , {item: `Zamorak page 3`, min: 1, max: 3, roll: 6, rare: false, blmReset: false}
    , {item: `Zamorak page 4`, min: 1, max: 3, roll: 7, rare: false, blmReset: false}
    , {item: `Guthix page 1`, min: 1, max: 3, roll: 8, rare: false, blmReset: false}
    , {item: `Guthix page 2`, min: 1, max: 3, roll: 9, rare: false, blmReset: false}
    , {item: `Guthix page 3`, min: 1, max: 3, roll: 10, rare: false, blmReset: false}
    , {item: `Guthix page 4`, min: 1, max: 3, roll: 11, rare: false, blmReset: false}
    , {item: `Armadyl page 1`, min: 1, max: 3, roll: 12, rare: false, blmReset: false}
    , {item: `Armadyl page 2`, min: 1, max: 3, roll: 13, rare: false, blmReset: false}
    , {item: `Armadyl page 3`, min: 1, max: 3, roll: 14, rare: false, blmReset: false}
    , {item: `Armadyl page 4`, min: 1, max: 3, roll: 15, rare: false, blmReset: false}
    , {item: `Ancient page 1`, min: 1, max: 3, roll: 16, rare: false, blmReset: false}
    , {item: `Ancient page 2`, min: 1, max: 3, roll: 17, rare: false, blmReset: false}
    , {item: `Ancient page 3`, min: 1, max: 3, roll: 18, rare: false, blmReset: false}
    , {item: `Ancient page 4`, min: 1, max: 3, roll: 19, rare: false, blmReset: false}
    , {item: `Bandos page 1`, min: 1, max: 3, roll: 20, rare: false, blmReset: false}
    , {item: `Bandos page 2`, min: 1, max: 3, roll: 21, rare: false, blmReset: false}
    , {item: `Bandos page 3`, min: 1, max: 3, roll: 22, rare: false, blmReset: false}
    , {item: `Bandos page 4`, min: 1, max: 3, roll: 23, rare: false, blmReset: false}
    , {item: `Red firelighter`, min: 9, max: 15, roll: 27, rare: false, blmReset: false}
    , {item: `Green firelighter`, min: 9, max: 15, roll: 31, rare: false, blmReset: false}
    , {item: `Blue firelighter`, min: 9, max: 15, roll: 35, rare: false, blmReset: false}
    , {item: `Purple firelighter`, min: 9, max: 15, roll: 39, rare: false, blmReset: false}
    , {item: `White firelighter`, min: 9, max: 15, roll: 43, rare: false, blmReset: false}
    , {item: `Guido's bonfire in a bottle`, min: 2, max: 4, roll: 47, rare: false, blmReset: false}
    , {item: `Holy biscuits`, min: 7, max: 15, roll: 71, rare: false, blmReset: false}
	, {item: `Purple sweets`, min: 7, max: 15, roll: 95, rare: false, blmReset: false}
    , {item: `Pollnivneach Teleport`, min: 4, max: 8, roll: 119, rare: false, blmReset: false}
    , {item: `Bandit Camp Teleport`, min: 4, max: 8, roll: 131, rare: false, blmReset: false}
    , {item: `Gu'Tanoth Teleport`, min: 4, max: 8, roll: 143, rare: false, blmReset: false}
    , {item: `Miscellania Teleport`, min: 4, max: 8, roll: 155, rare: false, blmReset: false}
    , {item: `Lighthouse Teleport`, min: 4, max: 8, roll: 167, rare: false, blmReset: false}
    , {item: `Phoenix Lair Teleport`, min: 4, max: 8, roll: 179, rare: false, blmReset: false}
    , {item: `Grand Exchange Teleport`, min: 4, max: 8, roll: 191, rare: false, blmReset: false}
    , {item: `Tai Bwo Wannai Teleport`, min: 4, max: 8, roll: 203, rare: false, blmReset: false}
    , {item: `Clocktower Teleport`, min: 4, max: 8, roll: 215, rare: false, blmReset: false}
    , {item: `Fort Forinthry Teleport`, min: 4, max: 8, roll: 239, rare: false, blmReset: false}
    , {item: `Meerkat scroll (Fetch Casket)`, min: 10, max: 25, roll: 263, rare: false, blmReset: false}
    , {item: `Puzzle box skipping ticket`, min: 1, max: 4, roll: 287, rare: false, blmReset: false}
    , {item: `Knot skipping ticket`, min: 1, max: 4, roll: 311, rare: false, blmReset: false}
    , {item: `Costume skipping ticket`, min: 1, max: 4, roll: 335, rare: false, blmReset: false}
    , {item: `Meerkats pouch`, min: 2, max: 5, roll: 359, rare: false, blmReset: false}
	// , {item: `Bonus XP star (large)`, min: 1, max: 1, roll: 371, rare: false}
    , {item: `Coins`, min: 30000, max: 30000, roll: 383, rare: false, blmReset: false}
    , {item: `Saradomin arrows`, min: 40, max: 80, roll: 407, rare: false, blmReset: false}
    , {item: `Guthix arrows`, min: 40, max: 80, roll: 431, rare: false, blmReset: false}
    , {item: `Zamorak arrows`, min: 40, max: 80, roll: 455, rare: false, blmReset: false}
  ]
};

const itemPrices = [
	[`Yew composite bow`,1166721]
	, [`Magic composite bow`,1170791]
	, [`Rune full helm (t)`,27931]
	, [`Rune platebody (t)`,46790]
	, [`Rune platelegs (t)`,37611]
	, [`Rune kiteshield (t)`,33430]
	, [`Rune plateskirt (t)`,38294]
	, [`Rune full helm (g)`,40046]
	, [`Rune platebody (g)`,45036]
	, [`Rune platelegs (g)`,42175]
	, [`Rune kiteshield (g)`,30427]
	, [`Rune plateskirt (g)`,34946]
	, [`Rune full helm (Saradomin)`,51543]
	, [`Rune platebody (Saradomin)`,108747]
	, [`Rune platelegs (Saradomin)`,97992]
	, [`Rune kiteshield (Saradomin)`,36373]
	, [`Rune plateskirt (Saradomin)`,35921]
	, [`Rune full helm (Guthix)`,59671]
	, [`Rune platebody (Guthix)`,84191]
	, [`Rune platelegs (Guthix)`,35405]
	, [`Rune kiteshield (Guthix)`,34286]
	, [`Rune plateskirt (Guthix)`,38034]
	, [`Rune full helm (Zamorak)`,86942]
	, [`Rune platebody (Zamorak)`,103119]
	, [`Rune platelegs (Zamorak)`,113910]
	, [`Rune kiteshield (Zamorak)`,43358]
	, [`Rune plateskirt (Zamorak)`,33959]
	, [`Blue dragonhide body (t)`,1347677]
	, [`Blue dragonhide chaps (t)`,1368545]
	, [`Blue dragonhide body (g)`,1388507]
	, [`Blue dragonhide chaps (g)`,1365857]
	, [`Pirate's hat`,1380517]
	, [`Robin Hood hat`,1402945]
	, [`Enchanted hat`,1350134]
	, [`Enchanted top`,1340295]
	, [`Enchanted robe`,1381291]
	, [`Tan cavalier`,1395398]
	, [`Black cavalier`,1373418]
	, [`Dark cavalier`,1352466]
	, [`Rune helm (h1)`,1536117]
	, [`Rune platebody (h1)`,1527215]
	, [`Rune platelegs (h1)`,1512685]
	, [`Rune shield (h1)`,1518547]
	, [`Rune plateskirt (h1)`,1501037]
	, [`Rune helm (h2)`,1511614]
	, [`Rune platebody (h2)`,1458670]
	, [`Rune platelegs (h2)`,1474041]
	, [`Rune shield (h2)`,1540499]
	, [`Rune plateskirt (h2)`,1517495]
	, [`Rune helm (h3)`,1525275]
	, [`Rune platebody (h3)`,1511242]
	, [`Rune platelegs (h3)`,1508482]
	, [`Rune shield (h3)`,1514035]
	, [`Rune plateskirt (h3)`,1480287]
	, [`Rune helm (h4)`,1521141]
	, [`Rune platebody (h4)`,1513751]
	, [`Rune platelegs (h4)`,1452404]
	, [`Rune shield (h4)`,1496279]
	, [`Rune plateskirt (h4)`,1488098]
	, [`Rune helm (h5)`,1545091]
	, [`Rune platebody (h5)`,1506560]
	, [`Rune platelegs (h5)`,1509467]
	, [`Rune shield (h5)`,1515743]
	, [`Rune plateskirt (h5)`,1509381]
	, [`Amulet of fury (t)`,1966897]
	, [`Amulet of glory (t)`,1662530]
	, [`Saradomin crozier`,1359239]
	, [`Saradomin stole`,1338935]
	, [`Guthix crozier`,1359924]
	, [`Guthix stole`,1378435]
	, [`Zamorak crozier`,1371071]
	, [`Zamorak stole`,1379976]
	, [`Armadyl mitre`,1368176]
	, [`Armadyl cloak`,1384569]
	, [`Bandos mitre`,1392811]
	, [`Bandos cloak`,1407696]
	, [`Ancient mitre`,1368128]
	, [`Ancient cloak`,1375897]
	, [`Blessed dragonhide coif (Saradomin)`,1453962]
	, [`Blessed dragonhide body (Saradomin)`,1512406]
	, [`Blessed dragonhide chaps (Saradomin)`,1447874]
	, [`Blessed dragonhide vambraces (Saradomin)`,1558679]
	, [`Blessed dragonhide coif (Guthix)`,1472742]
	, [`Blessed dragonhide body (Guthix)`,1515701]
	, [`Blessed dragonhide chaps (Guthix)`,1485545]
	, [`Blessed dragonhide vambraces (Guthix)`,1477274]
	, [`Blessed dragonhide coif (Zamorak)`,1443704]
	, [`Blessed dragonhide body (Zamorak)`,1483970]
	, [`Blessed dragonhide chaps (Zamorak)`,1466825]
	, [`Blessed dragonhide vambraces (Zamorak)`,1468481]
	, [`Fox mask`,1460190]
	, [`White unicorn mask`,1471294]
	, [`Black unicorn mask`,1444904]
	, [`Green dragon mask`,1485699]
	, [`Blue dragon mask`,1465794]
	, [`Red dragon mask`,1466503]
	, [`Top hat`,1380668]
	, [`Rune cane`,1360078]
	, [`Guido's bonfire in a bottle`,8253]
	, [`Costume skipping ticket`,280328]
	, [`Puzzle box skipping ticket`,3638972]
	, [`Knot skipping ticket`,501921]
	, [`Barrows dye`,109043618]
	, [`Shadow dye`,1080477316]
	, [`Backstab cape`,2385137]
	, [`Sack of effigies`,1718748]
	, [`Explosive barrel`,38396070]
	, [`Large prismatic fallen star`,0]
	, [`Rune full helm (Gilded)`,178379]
	, [`Rune platebody (Gilded)`,584733]
	, [`Rune kiteshield (Gilded)`,223935]
	, [`Rune platelegs (Gilded)`,430882]
	, [`Rune plateskirt (Gilded)`,80951]
	, [`Super attack (4)`,3579]
	, [`Super defence (4)`,10139]
	, [`Super strength (4)`,9596]
	, [`Super energy (4)`,8249]
	, [`Super restore (4)`,3294]
	, [`Antifire (4)`,11406]
	, [`Starved ancient effigy`,0]
	, [`Re-roll token (hard)`,0]
	, [`Third age full helmet`,148576361]
	, [`Third age platebody`,354130604]
	, [`Third age platelegs`,581246004]
	, [`Third age kiteshield`,147579682]
	, [`Third age mage hat`,135458166]
	, [`Third age robe top`,158998556]
	, [`Third age robe`,138016463]
	, [`Third age amulet`,355350212]
	, [`Third age ranger coif`,140218134]
	, [`Third age ranger body`,139463131]
	, [`Third age ranger chaps`,136476638]
	, [`Third age vambraces`,135556567]
	, [`Medium spiky rune salvage`,21497]
	, [`Medium bladed rune salvage`,21673]
	, [`Large bladed rune salvage`,30001]
	, [`Medium plated rune salvage`,21502]
	, [`Large plated rune salvage`,29764]
	, [`Huge plated rune salvage`,38150]
	, [`Black dragonhide`,1720]
	, [`Mystic air staff`,23482]
	, [`Mystic fire staff`,23198]
	, [`Mystic earth staff`,23192]
	, [`Mystic water staff`,23274]
	, [`Rune arrow`,152]
	, [`Law rune`,195]
	, [`Nature rune`,603]
	, [`Astral rune`,826]
	, [`Blood rune`,517]
	, [`Mahogany plank`,1274]
	, [`Court summons`,0]
	, [`Holy biscuits`,0]
	, [`Purple sweets`,1537]
	, [`Bandit Camp Teleport`,3377]
	, [`Clocktower Teleport`,927]
	, [`Fort Forinthry Teleport`,1957]
	, [`Grand Exchange Teleport`,6256]
	, [`Gu'Tanoth Teleport`,530]
	, [`Lighthouse Teleport`,24192]
	, [`Miscellania Teleport`,377]
	, [`Phoenix Lair Teleport`,356]
	, [`Pollnivneach Teleport`,653]
	, [`Tai Bwo Wannai Teleport`,1751]
	, [`Armadyl page 1`,130044]
	, [`Armadyl page 2`,95892]
	, [`Armadyl page 3`,97625]
	, [`Armadyl page 4`,94159]
	, [`Bandos page 1`,16994]
	, [`Bandos page 2`,13272]
	, [`Bandos page 3`,13891]
	, [`Bandos page 4`,13172]
	, [`Guthix page 1`,54063]
	, [`Guthix page 2`,46873]
	, [`Guthix page 3`,45199]
	, [`Guthix page 4`,46313]
	, [`Saradomin page 1`,83345]
	, [`Saradomin page 2`,68273]
	, [`Saradomin page 3`,67040]
	, [`Saradomin page 4`,70720]
	, [`Zamorak page 1`,89254]
	, [`Zamorak page 2`,77869]
	, [`Zamorak page 3`,65614]
	, [`Zamorak page 4`,62966]
	, [`Ancient page 1`,14522]
	, [`Ancient page 2`,12737]
	, [`Ancient page 3`,12355]
	, [`Ancient page 4`,12451]
	, [`Red firelighter`,1028]
	, [`Green firelighter`,1431]
	, [`Blue firelighter`,1040]
	, [`Purple firelighter`,1094]
	, [`White firelighter`,1048]
	, [`Saradomin arrows`,177]
	, [`Guthix arrows`,275]
	, [`Zamorak arrows`,203]
	, [`Meerkats pouch`,65960]
	, [`Meerkat scroll (Fetch Casket)`,7585]
	, [`Rune full helm (Armadyl)`,1433005]
	, [`Rune platebody (Armadyl)`,1396436]
	, [`Rune platelegs (Armadyl)`,1449170]
	, [`Rune plateskirt (Armadyl)`,1424457]
	, [`Rune kiteshield (Armadyl)`,1484572]
	, [`Rune full helm (Bandos)`,1412312]
	, [`Rune platebody (Bandos)`,1448191]
	, [`Rune platelegs (Bandos)`,1447391]
	, [`Rune plateskirt (Bandos)`,1421875]
	, [`Rune kiteshield (Bandos)`,1470296]
	, [`Rune full helm (Ancient)`,1436583]
	, [`Rune platebody (Ancient)`,1431907]
	, [`Rune platelegs (Ancient)`,1463813]
	, [`Rune plateskirt (Ancient)`,1434140]
	, [`Rune kiteshield (Ancient)`,1448670]
	, [`Blessed dragonhide coif (Armadyl)`,1529035]
	, [`Blessed dragonhide body (Armadyl)`,1510069]
	, [`Blessed dragonhide chaps (Armadyl)`,1507485]
	, [`Blessed dragonhide vambraces (Armadyl)`,1522754]
	, [`Blessed dragonhide coif (Bandos)`,1509429]
	, [`Blessed dragonhide body (Bandos)`,1506258]
	, [`Blessed dragonhide chaps (Bandos)`,1506122]
	, [`Blessed dragonhide vambraces (Bandos)`,1456986]
	, [`Blessed dragonhide coif (Zaros)`,1506434]
	, [`Blessed dragonhide body (Zaros)`,1479089]
	, [`Blessed dragonhide chaps (Zaros)`,1462107]
	, [`Blessed dragonhide vambraces (Zaros)`,1509853]
	, [`Robin Hood tunic`,1389095]
	, [`Robin Hood tights`,1409003]
	, [`Armadyl stole`,1392424]
	, [`Bandos stole`,1388500]
	, [`Ancient stole`,1371640]
	, [`Armadyl crozier`,1370579]
	, [`Bandos crozier`,1380680]
	, [`Ancient crozier`,1374905]
	, [`Dragon full helm ornament kit (or)`,6033]
	, [`Dragon platebody ornament kit (or)`,8782]
	, [`Dragon platelegs/skirt ornament kit (or)`,1150870]
	, [`Dragon sq shield ornament kit (or)`,421369]
	, [`Dragon full helm ornament kit (sp)`,5413]
	, [`Dragon platebody ornament kit (sp)`,9990]
	, [`Dragon platelegs/skirt ornament kit (sp)`,1140541]
	, [`Dragon sq shield ornament kit (sp)`,420095]
	, [`Fury ornament kit`,1321600]
	, [`Bat staff`,1370335]
	, [`Penguin staff`,1368928]
	, [`Wolf staff`,1371437]
	, [`Dragon staff`,1376959]
	, [`Cat staff`,1375812]
	, [`Dragon cane`,1344168]
	, [`Lockbox skipping ticket`,275255]
	, [`Tower skipping ticket`,1588169]
	, [`Bonus XP star (large)`,0]
	, [`Black dragon mask`,1607224]
	, [`Bronze dragon mask`,1375641]
	, [`Iron dragon mask`,1353585]
	, [`Steel dragon mask`,1353140]
	, [`Mithril dragon mask`,1339708]
	, [`Frost dragon mask`,1368609]
	, [`Crystal triskelion fragment 1`,0]
	, [`Crystal triskelion fragment 2`,0]
	, [`Crystal triskelion fragment 3`,0]
	, [`Ice dye`,1003732528]
	, [`Third Age dye`,7090892805]
	, [`Blood dye`,7834937438]
	, [`Saradomin bow`,1574036]
	, [`Guthix bow`,1422219]
	, [`Zamorak bow`,1564011]
	, [`Third age druidic wreath`,602936484]
	, [`Third age druidic robe top`,194102363]
	, [`Third age druidic robe bottom`,138824651]
	, [`Third age druidic cloak`,157009449]
	, [`Third age druidic staff`,130571546]
	, [`Palm tree seed`,2385]
	, [`Papaya tree seed`,200]
	, [`Grapevine seed`,1582]
	, [`Yew seed`,1251]
	, [`Prayer potion (4)`,6632]
	, [`Water talisman`,1083]
	, [`Green salamander`,1590]
	, [`Runite stone spirit`,620]
	, [`Unicorn horn`,1384]
	, [`Royal dragonhide`,2346]
	, [`Onyx bolt tips`,7006]
	, [`Uncut dragonstone`,4986]
	, [`Battlestaff`,4457]
	, [`Dragon helm`,58383]
	, [`Lychee seed`,345]
	, [`Mango seed`,310]
	, [`Guarana seed`,2724]
	, [`Dragonfruit seed`,955]
	, [`Ranger boots`,1435232]
	, [`Wizard boots (t)`,1367816]
	, [`Adamant platebody (t)`,19645]
	, [`Adamant platelegs (t)`,14918]
	, [`Adamant kiteshield (t)`,17475]
	, [`Adamant full helm (t)`,11089]
	, [`Adamant platebody (g)`,44139]
	, [`Adamant platelegs (g)`,20546]
	, [`Adamant kiteshield (g)`,21388]
	, [`Adamant full helm (g)`,39334]
	, [`Red headband`,1418559]
	, [`Black headband`,1447051]
	, [`Brown headband`,1438908]
	, [`Adamant plateskirt (t)`,9011]
	, [`Adamant plateskirt (g)`,12271]
	, [`Adamant shield (h1)`,1454571]
	, [`Adamant shield (h2)`,1469439]
	, [`Adamant shield (h3)`,1453111]
	, [`Adamant shield (h4)`,1462117]
	, [`Adamant shield (h5)`,1457211]
	, [`Red boater`,1549241]
	, [`Green boater`,1486619]
	, [`Orange boater`,1462990]
	, [`Black boater`,1661470]
	, [`Blue boater`,1515888]
	, [`Green dragonhide body (g)`,1455085]
	, [`Green dragonhide body (t)`,1420080]
	, [`Green dragonhide chaps (g)`,1468932]
	, [`Green dragonhide chaps (t)`,1402138]
	, [`Adamant helm (h1)`,1791750]
	, [`Adamant helm (h2)`,1580694]
	, [`Adamant helm (h3)`,1547333]
	, [`Adamant helm (h4)`,1543075]
	, [`Adamant helm (h5)`,1550223]
	, [`Saradomin mitre`,1415559]
	, [`Saradomin cloak`,1587936]
	, [`Guthix mitre`,1400383]
	, [`Guthix cloak`,1379735]
	, [`Zamorak mitre`,1389118]
	, [`Zamorak cloak`,1392740]
	, [`Adamant cane`,1510252]
	, [`Pith helmet`,1452705]
	, [`Purple elegant shirt`,1327073]
	, [`Purple elegant blouse`,1305066]
	, [`Purple elegant legs`,1310582]
	, [`Purple elegant skirt`,1297449]
	, [`Black elegant shirt`,1404789]
	, [`White elegant blouse`,1359766]
	, [`Black elegant legs`,1369209]
	, [`White elegant skirt`,1332315]
	, [`Adamant platebody (h1)`,1605510]
	, [`Adamant platebody (h2)`,1564113]
	, [`Adamant platebody (h3)`,1524573]
	, [`Adamant platebody (h4)`,1515173]
	, [`Adamant platebody (h5)`,1471416]
	, [`Adamant platelegs (h1)`,1523844]
	, [`Adamant platelegs (h2)`,1452445]
	, [`Adamant platelegs (h3)`,1445121]
	, [`Adamant platelegs (h4)`,1458175]
	, [`Adamant platelegs (h5)`,1428000]
	, [`Adamant plateskirt (h1)`,1435302]
	, [`Adamant plateskirt (h2)`,1427057]
	, [`Adamant plateskirt (h3)`,1413550]
	, [`Adamant plateskirt (h4)`,1412495]
	, [`Adamant plateskirt (h5)`,1413827]
	, [`Armadyl robe top`,1376854]
	, [`Ancient robe top`,1373786]
	, [`Bandos robe top`,1377816]
	, [`Armadyl robe legs`,1348701]
	, [`Bandos robe legs`,1340656]
	, [`Ancient robe legs`,1384564]
	, [`Sheep mask`,1389149]
	, [`Penguin mask`,1406295]
	, [`Bat mask`,1518289]
	, [`Cat mask`,1507853]
	, [`Wolf mask`,1488118]
	, [`Blue checkered shirt`,1473967]
	, [`Green checkered shirt`,1519583]
	, [`Purple checkered shirt`,1469820]
	, [`Briefcase`,1637496]
	, [`Off-hand briefcase`,1602101]
	, [`Air rune`,54]
	, [`Fire rune`,58]
	, [`Water rune`,47]
	, [`Earth rune`,16]
	, [`Mind rune`,13]
	, [`Death rune`,206]
	, [`Pure essence`,186]
	, [`Teak plank`,384]
	, [`Huge plated adamant salvage`,9019]
	, [`Small bladed adamant salvage`,3714]
	, [`Small plated adamant salvage`,2725]
	, [`Medium plated adamant salvage`,4091]
	, [`Medium bladed adamant salvage`,5317]
	, [`Adamant arrow`,53]
	, [`Water battlestaff`,6979]
	, [`Air battlestaff`,7045]
	, [`Earth battlestaff`,7114]
	, [`Fire battlestaff`,7011]
	, [`Amulet of power`,5850]
	, [`Strength amulet (t)`,1473123]
	, [`Green dragonhide chaps`,3611]
	, [`Green dragonhide body`,4631]
	, [`Green dragonhide`,546]
	, [`Adamant crossbow`,11071]
	, [`Adamant bolts`,194]
	, [`Black platebody (t)`,19922]
	, [`Black platelegs (t)`,11719]
	, [`Black full helm (t)`,21265]
	, [`Black kiteshield (t)`,17515]
	, [`Black platebody (g)`,44742]
	, [`Black platelegs (g)`,29440]
	, [`Black full helm (g)`,41882]
	, [`Black kiteshield (g)`,34885]
	, [`Highwayman mask`,1374266]
	, [`Blue beret`,1447207]
	, [`Black beret`,1476993]
	, [`White beret`,1445599]
	, [`Black plateskirt (t)`,15030]
	, [`Black plateskirt (g)`,11036]
	, [`Black shield (h1)`,1512112]
	, [`Black shield (h2)`,1524192]
	, [`Black shield (h3)`,1497286]
	, [`Black shield (h4)`,1498597]
	, [`Black shield (h5)`,1506485]
	, [`Studded body (g)`,1430719]
	, [`Studded body (t)`,1447554]
	, [`Studded chaps (g)`,1423612]
	, [`Studded chaps (t)`,1438215]
	, [`Wizard robe skirt (g)`,1462952]
	, [`Wizard robe skirt (t)`,1451213]
	, [`Wizard robe top (g)`,1421888]
	, [`Wizard robe top (t)`,1450630]
	, [`Wizard hat (g)`,1450280]
	, [`Wizard hat (t)`,1450974]
	, [`Black helm (h1)`,1544255]
	, [`Black helm (h2)`,1485614]
	, [`Black helm (h3)`,1528110]
	, [`Black helm (h4)`,1486450]
	, [`Black helm (h5)`,1509862]
	, [`Bob shirt (red)`,1426458]
	, [`Bob shirt (green)`,1449145]
	, [`Bob shirt (blue)`,1447882]
	, [`Bob shirt (black)`,1440480]
	, [`Bob shirt (purple)`,1434770]
	, [`Powdered wig`,1419483]
	, [`Flared trousers`,1482108]
	, [`Pantaloons`,1438173]
	, [`Sleeping cap`,1458348]
	, [`Red elegant shirt`,1373935]
	, [`Red elegant blouse`,1337213]
	, [`Red elegant legs`,1373201]
	, [`Red elegant skirt`,1342770]
	, [`Green elegant shirt`,1378934]
	, [`Green elegant blouse`,1320341]
	, [`Green elegant legs`,1351256]
	, [`Green elegant skirt`,1331942]
	, [`Blue elegant shirt`,1387489]
	, [`Blue elegant blouse`,1349004]
	, [`Blue elegant legs`,1385106]
	, [`Blue elegant skirt`,1337592]
	, [`Saradomin robe top`,1396629]
	, [`Saradomin robe legs`,1389309]
	, [`Guthix robe top`,1401009]
	, [`Guthix robe legs`,1326766]
	, [`Zamorak robe top`,1399923]
	, [`Zamorak robe legs`,1386329]
	, [`Black cane`,1466402]
	, [`Black platebody (h1)`,1486361]
	, [`Black platebody (h2)`,1470439]
	, [`Black platebody (h3)`,1520100]
	, [`Black platebody (h4)`,1467587]
	, [`Black platebody (h5)`,1489024]
	, [`Black platelegs (h1)`,1506449]
	, [`Black platelegs (h2)`,1517416]
	, [`Black platelegs (h3)`,1497401]
	, [`Black platelegs (h4)`,1467732]
	, [`Black platelegs (h5)`,1489741]
	, [`Black plateskirt (h1)`,1458160]
	, [`Black plateskirt (h2)`,1473157]
	, [`Black plateskirt (h3)`,1495343]
	, [`Black plateskirt (h4)`,1450580]
	, [`Black plateskirt (h5)`,1494215]
	, [`Spiked helmet`,1442929]
	, [`Suitcase`,1464344]
	, [`Off-hand suitcase`,1410620]
	, [`Oak plank`,818]
	, [`Air talisman`,1952]
	, [`Earth talisman`,208]
	, [`Fire talisman`,194]
	, [`Staff of air`,2029]
	, [`Staff of water`,2216]
	, [`Staff of earth`,2284]
	, [`Staff of fire`,2196]
	, [`Hard leather`,844]
	, [`Huge plated mithril salvage`,5152]
	, [`Medium plated mithril salvage`,2447]
	, [`Small plated mithril salvage`,1004]
	, [`Small bladed mithril salvage`,3500]
	, [`Medium bladed mithril salvage`,3943]
	, [`Mithril arrow`,36]
	, [`Amulet of magic`,1940]
	, [`Amulet of magic (t)`,1462027]
	, [`Willow composite bow`,1375412]
	, [`Black crossbow`,1343439]
	, [`Off-hand black crossbow`,1472016]
	, [`Black 2h crossbow`,20472]
	, [`Black bolts`,157]
	, [`Re-roll token (elite)`,0]
	, [`Re-roll token (master)`,0]
	, [`Re-roll token (easy)`,0]
	, [`Re-roll token (medium)`,0]
	, [`Coins`,1]
];

function rollHardItem(t4, blm, items, lastSlot, pity, rareRolled) {
  var roll;
  var outputItem;
  rng = getRandomInt(1592 * t4 - blm);
  if (rng < 100) outputItem = rollEliteRareItem(hardRareTableItems, getRandomInt(hardRareTableItems.rng));
  else if (lastSlot && !rareRolled && !pity) outputItem = rollEliteRareItem(hardSharedTable, getRandomInt(hardSharedTable.rng));
  else outputItem = rollEliteRareItem(hardCommonTable, getRandomInt(hardCommonTable.rng));
  if (outputItem.min != outputItem.max) outputAmount = getRandomInt(outputItem.max - outputItem.min + 1) + outputItem.min;
  else outputAmount = outputItem.min;
  let outputPrice = items.filter(item => item[0].toLowerCase() == outputItem.item.toLowerCase());
  if (outputItem.item == 'Super set') outputPrice = [['Super set'],[1]];
  roll = [{item: outputItem.item, quantity: outputAmount, price: outputPrice[0][1], total: outputPrice[0][1] * outputAmount, blmReset: outputItem.blmReset}, outputItem.rare];
  return roll;
}

function rollEliteRareItem(item, rng) {
  for (let i of item.output) {
    if (rng <= i.roll && i.rng) {
      return rollEliteRareItem(i, getRandomInt(i.rng))
    } else if (rng <= i.roll && i.rng == null) {
      return i;
    }
  }
}

function getRandomInt(choices) {
  return Math.floor(Math.random() * choices);
}

fortMap = new Map();
fortMap.set(`Rune full helm (t)`, {count: 0});
fortMap.set(`Rune platebody (t)`, {count: 0});
fortMap.set(`Rune platelegs (t)`, {count: 0});
fortMap.set(`Rune kiteshield (t)`, {count: 0});
fortMap.set(`Rune plateskirt (t)`, {count: 0});
fortMap.set(`Rune full helm (g)`, {count: 0});
fortMap.set(`Rune platebody (g)`, {count: 0});
fortMap.set(`Rune platelegs (g)`, {count: 0});
fortMap.set(`Rune kiteshield (g)`, {count: 0});
fortMap.set(`Rune plateskirt (g)`, {count: 0});
fortMap.set(`Rune full helm (Saradomin)`, {count: 0});
fortMap.set(`Rune platebody (Saradomin)`, {count: 0});
fortMap.set(`Rune platelegs (Saradomin)`, {count: 0});
fortMap.set(`Rune kiteshield (Saradomin)`, {count: 0});
fortMap.set(`Rune plateskirt (Saradomin)`, {count: 0});
fortMap.set(`Rune full helm (Guthix)`, {count: 0});
fortMap.set(`Rune platebody (Guthix)`, {count: 0});
fortMap.set(`Rune platelegs (Guthix)`, {count: 0});
fortMap.set(`Rune kiteshield (Guthix)`, {count: 0});
fortMap.set(`Rune plateskirt (Guthix)`, {count: 0});
fortMap.set(`Rune full helm (Zamorak)`, {count: 0});
fortMap.set(`Rune platebody (Zamorak)`, {count: 0});
fortMap.set(`Rune platelegs (Zamorak)`, {count: 0});
fortMap.set(`Rune kiteshield (Zamorak)`, {count: 0});
fortMap.set(`Rune plateskirt (Zamorak)`, {count: 0});
fortMap.set(`Blue dragonhide body (t)`, {count: 0});
fortMap.set(`Blue dragonhide chaps (t)`, {count: 0});
fortMap.set(`Blue dragonhide body (g)`, {count: 0});
fortMap.set(`Blue dragonhide chaps (g)`, {count: 0});
fortMap.set(`Pirate's hat`, {count: 0});
fortMap.set(`Robin Hood hat`, {count: 0});
fortMap.set(`Enchanted hat`, {count: 0});
fortMap.set(`Enchanted top`, {count: 0});
fortMap.set(`Enchanted robe`, {count: 0});
fortMap.set(`Tan cavalier`, {count: 0});
fortMap.set(`Black cavalier`, {count: 0});
fortMap.set(`Dark cavalier`, {count: 0});
fortMap.set(`Rune helm (h1)`, {count: 0});
fortMap.set(`Rune platebody (h1)`, {count: 0});
fortMap.set(`Rune platelegs (h1)`, {count: 0});
fortMap.set(`Rune shield (h1)`, {count: 0});
fortMap.set(`Rune plateskirt (h1)`, {count: 0});
fortMap.set(`Rune helm (h2)`, {count: 0});
fortMap.set(`Rune platebody (h2)`, {count: 0});
fortMap.set(`Rune platelegs (h2)`, {count: 0});
fortMap.set(`Rune shield (h2)`, {count: 0});
fortMap.set(`Rune plateskirt (h2)`, {count: 0});
fortMap.set(`Rune helm (h3)`, {count: 0});
fortMap.set(`Rune platebody (h3)`, {count: 0});
fortMap.set(`Rune platelegs (h3)`, {count: 0});
fortMap.set(`Rune shield (h3)`, {count: 0});
fortMap.set(`Rune plateskirt (h3)`, {count: 0});
fortMap.set(`Rune helm (h4)`, {count: 0});
fortMap.set(`Rune platebody (h4)`, {count: 0});
fortMap.set(`Rune platelegs (h4)`, {count: 0});
fortMap.set(`Rune shield (h4)`, {count: 0});
fortMap.set(`Rune plateskirt (h4)`, {count: 0});
fortMap.set(`Rune helm (h5)`, {count: 0});
fortMap.set(`Rune platebody (h5)`, {count: 0});
fortMap.set(`Rune platelegs (h5)`, {count: 0});
fortMap.set(`Rune shield (h5)`, {count: 0});
fortMap.set(`Rune plateskirt (h5)`, {count: 0});
fortMap.set(`Amulet of fury (t)`, {count: 0});
fortMap.set(`Amulet of glory (t)`, {count: 0});
fortMap.set(`Saradomin crozier`, {count: 0});
fortMap.set(`Saradomin stole`, {count: 0});
fortMap.set(`Guthix crozier`, {count: 0});
fortMap.set(`Guthix stole`, {count: 0});
fortMap.set(`Zamorak crozier`, {count: 0});
fortMap.set(`Zamorak stole`, {count: 0});
fortMap.set(`Armadyl mitre`, {count: 0});
fortMap.set(`Armadyl cloak`, {count: 0});
fortMap.set(`Bandos mitre`, {count: 0});
fortMap.set(`Bandos cloak`, {count: 0});
fortMap.set(`Ancient mitre`, {count: 0});
fortMap.set(`Ancient cloak`, {count: 0});
fortMap.set(`Blessed dragonhide coif (Saradomin)`, {count: 0});
fortMap.set(`Blessed dragonhide body (Saradomin)`, {count: 0});
fortMap.set(`Blessed dragonhide chaps (Saradomin)`, {count: 0});
fortMap.set(`Blessed dragonhide vambraces (Saradomin)`, {count: 0});
fortMap.set(`Blessed dragonhide coif (Guthix)`, {count: 0});
fortMap.set(`Blessed dragonhide body (Guthix)`, {count: 0});
fortMap.set(`Blessed dragonhide chaps (Guthix)`, {count: 0});
fortMap.set(`Blessed dragonhide vambraces (Guthix)`, {count: 0});
fortMap.set(`Blessed dragonhide coif (Zamorak)`, {count: 0});
fortMap.set(`Blessed dragonhide body (Zamorak)`, {count: 0});
fortMap.set(`Blessed dragonhide chaps (Zamorak)`, {count: 0});
fortMap.set(`Blessed dragonhide vambraces (Zamorak)`, {count: 0});
fortMap.set(`Top hat`, {count: 0});
fortMap.set(`Rune cane`, {count: 0});

let caskets = 500000000;
let blm = 0;
var items = itemPrices;
var t4Luck = 1;
var pityRollActive = true;
for (j = 0; j < caskets; j++) {
	var blmReset = false;
	var casketSummary = {output: [], valueBeforePity: 0,  valueAfterPity: 0, pity: 'No', rolls: 0, uniqueCheck: new Set()};
	//osh
	if (getRandomInt(90) == 0) {
	  casketSummary.output.push({item: "Reward casket (medium)", quantity: 1, price: 0, total: 0});
	  casketSummary.uniqueCheck.add("Reward casket (medium)");
	}

	//caskets
	var rareRolled = false;
	var rolls = 4 + getRandomInt(3);
	casketSummary.rolls = rolls;
	var i = 0;
	do {
	  let returnValue = rollHardItem(t4Luck, blm, items, i == rolls - 1, false, rareRolled);
	  if (returnValue[0].item != "Super set") {
		casketSummary.output.push(returnValue[0]);
		casketSummary.valueBeforePity += returnValue[0].total;
		casketSummary.uniqueCheck.add(returnValue[0].item);
	  }
	  else {
		let supers = items.filter(items => ['Super attack (4)', 'Super strength (4)', 'Super defence (4)'].includes(items[0]));
		supers.forEach(value => {
		  casketSummary.output.push({item: value[0], quantity: 5, price: value[1], total: 5 * value[1]});
		  casketSummary.uniqueCheck.add(value[0].item);
		  casketSummary.valueBeforePity += 5 * value[1];
		});
	  }
	  if (returnValue[0].blmReset) blmReset = true;
	  if (!rareRolled && returnValue[1]) rareRolled = true;
	  if (fortMap.has(returnValue[0].item)) fortMap.get(returnValue[0].item).count++;
	  i++;
	} while (i < rolls);
	casketSummary.valueAfterPity = casketSummary.valueBeforePity;

	if (casketSummary.valueBeforePity < 150000 && getRandomInt(2) == 0 && casketSummary.uniqueCheck.size < 7) {
	  let returnValue = rollHardItem(t4Luck, blm, items, false, true, rareRolled);
	  if (returnValue[0].item != "Super set") {
		casketSummary.output.push(returnValue[0]);
		casketSummary.valueAfterPity += returnValue[0].total;
		casketSummary.uniqueCheck.add(returnValue[0].item);
	  }
	  else {
		let supers = items.filter(items => ['Super attack (4)', 'Super strength (4)', 'Super defence (4)'].includes(items[0]));
		supers.forEach(value => {
		  casketSummary.output.push({item: value[0], quantity: 5, price: value[1], total: 5 * value[1]});
		  casketSummary.uniqueCheck.add(value[0].item);
		  casketSummary.valueAfterPity += 5 * value[1];
		});
	  }
	  casketSummary.pity = 'Yes';
	  if (!rareRolled && returnValue[1]) rareRolled = true;
	  if (returnValue[0].blmReset) blmReset = true;
	  if (fortMap.has(returnValue[0].item)) fortMap.get(returnValue[0].item).count++;
	}

	//master
	if (getRandomInt(15) == 0) casketSummary.output.push({item: "Sealed clue scroll (master)", quantity: 1, price: 0, total: 0});

	if (rareRolled) blm = 0;
	else blm++;
	if (j % 100000 == 0) console.log(j);
}

console.log(fortMap);
let total = 0;
let min = 0;
let max = 0;
let minKey;
let maxKey;
let index = 0;
fortMap.forEach((value, key) => {
	if (index == 0) {
		min = value.count;
		max = value.count;
		minKey = key;
		maxKey = key;
	} else {
		if (value.count < min) {
			min = value.count;
			minKey = key;
		} else if (value.count > max) {
			max = value.count;
			maxKey = key;
		}
	}
	total += value.count;
	index++;
});
console.log(`Runs: ${caskets}`);
console.log(`Pity/BLM active: ${pityRollActive}`);
console.log(`T4 luck: ${t4Luck == 0.99 ? 'Yes' : 'No'}`);
console.log(`Holy biscuits: ${hardSharedTable.output.filter(item => item.item == 'Holy biscuits').length == 0 ? 'No' : 'Yes'}`);
console.log(`Bonus XP star (large): ${hardSharedTable.output.filter(item => item.item == 'Bonus XP star (large)').length == 0 ? 'No' : 'Yes'}`);
console.log(`Minimum: ${minKey} => ${min}`);
console.log(`Maximum: ${maxKey} => ${max}`);
let mean = total/fortMap.size;
console.log(`Mean: ${mean}`);
let squaredSum = 0;
fortMap.forEach((value, key) => {
	squaredSum += (value.count - mean) ** 2;
});
let standardDeviation = (squaredSum/(fortMap.size - 1)) ** 0.5;
console.log(`Standard Deviation: ${standardDeviation}`);
const staticCI = 1.96;
console.log(`Confidence Interval: [${mean - (staticCI * standardDeviation)}, ${mean + (staticCI * standardDeviation)}]`);